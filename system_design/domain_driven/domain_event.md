Domain Event...Martin Fowler
=
https://www.martinfowler.com/eaaDev/DomainEvent.html

Domain Event의 핵심은 변화를 트리거하는 역할(알림)과 변화한 내용에 대한 로그를 남긴다는 점이다.

이벤트가 발생하는 상황을 가정해본다.
첫번째 레이어에서는 이벤트를 만들고 로그를 쌓는다.
두번째 레이어에서는 이벤트가 발생한 경위에 대해서는 알 필요없이, 그저 이벤트에 반응한다.

이벤트는 비동기적 작동방식을 암시하나, 동기적으로 작동하는 경우가 많다고 한다.(이 부분은 마틴 파울러가 옛날 사람이라 그런듯, 2000년 중반에 쓰인 글이라는 점 감안)

**source data가 불변성을 가지는 것은 중요하다!**
우리가 이벤트를 사용하는 목적이, 알림을 받은 후, 정보를 얻고 일종의 로그로서 기록하려는 것에 있기 때문이다.

processing data: 일반적인 이벤트와는 다르게, 시스템이 이벤트에 반응해 무엇을 했는지를 기록하는 데이터. 예를 들면 어떤 퀴리를 사용하여 원하는 결과를 얻어내는 지 등의 내용.

> 정리하면, 이벤트는 불변의 객체인 source data와, 가변의 객체인 processing data로 구분할 수 있다.

source data에 잘못된 내용이 있는 등, 수정을 가해야 하는 경우, 보상 이벤트(Retroactive Event)를 발행하여 수정을 할 수 있다.

이벤트의 특수한 이용법 중에는 다른 데이터로부터 파생된 데이터를 캐시하는 용도로 사용하는 경우도 있다.(흔한 경우는 아니다.) 이 경우 현재의 이벤트를 생성하며, 동시에 과거의 데이터를 기록한다. 이를 통해 이후 이벤트 처리가 빨라질 수 있다. 단, 이 경우 해당하는 데이터는 수정, 삭제 등의 어떤 변경사항에도 자유로워야 한다.

이벤트는 다양한 이유로 생성되므로 이러한 다양한 이벤트의 타입을 이해하고 사용하는 것은 중요하다.

이벤트는 특정 시점(Time Points)에 일어남으로 이벤트의 생성과 이벤트가 인지된 시간을 데이터에 포함하는 것은 생각해봄직하다.
